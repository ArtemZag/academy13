@using System.Web.Optimization

@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    ViewBag.Title = "Upload | Bingally";
}

@Styles.Render("~/bundles/styles/dropzone")
@Styles.Render("~/Content/upload-page.css")

<div id="foto-select">
    <select data-bind="options: albums, optionsText: 'Name', optionsValue: 'Id', value: selectedAlbumId, enable: canMovePhotos, optionsCaption: 'Choose album to move in...'">
    </select>
    <button class="btn btn-danger" data-bind="click: startUpload, enable: (canMovePhotos() == true) && (selectedAlbumId() > 0)">Move photos</button>
    &nbsp;&nbsp;
    <div class="input-append">
        <input type="text" class="span2" placeholder="Enter an album name" data-bind="text: newAlbumName">
        <button type="button" class="btn btn-primary" data-bind="click: createNewAlbum, enable: canCreateNewAlbum">Create</button>
    </div>
    <div id="select-all-photos">
        <input type="checkbox" data-bind="enable: canSelectAllPhotos, checked: chekedAllPhotos"> Select all photos&nbsp;
    </div>
</div>

<div id="dropzone-container">
    <form  action="~/Api/File/Upload" class="dropzone dz-clickable" enctype="multipart/form-data" method="POST"></form>
</div>

@Scripts.Render("~/bundles/scripts/jquery")
@Scripts.Render("~/bundles/scripts/bootstrap")
@Scripts.Render("~/bundles/scripts/dropzone")
@Scripts.Render("~/bundles/scripts/knockout")
<script src="~/Scripts/knockout.mapping-latest.js"></script>

@Scripts.Render("~/Scripts/mediator.js")
@Scripts.Render("~/Scripts/UploadPage/PhotoPreviewViewModel.js")
@Scripts.Render("~/Scripts/UploadPage/UploadViewModel.js")
@Scripts.Render("~/Scripts/UploadPage/main.js")